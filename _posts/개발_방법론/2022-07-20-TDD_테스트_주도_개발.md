---
title:  "[개발 방법론] TDD - 테스트 주도 개발"
excerpt: " TDD 테스트 주도 개발"
author: 동글

categories:
  - 개발 방법론
tags:
  - [TDD]

toc: true
toc_sticky: true
 
date: 2022-07-20
last_modified_at: 2022-07-20
---

## 1. Testing  
소프트웨어가 올바르게 동작하지 않는 경우 금전적 손실, 시간 낭비, 비즈니스 이미지 손상 등 다양한 문제가 발생합니다.  

Testing은 이러한 문제를 최소화하기 위해 반드시 필요합니다.  

Test란? 소프트웨어가 요구사항에 의해 개발된 산출물이 요구사항과 부합하는지 여부를 검증하기 위한 작업을 의미합니다.

&nbsp;
### 1.1 Testing - 종류
테스트 구성에는 단위 테스트(Unit test), 통합 테스트(Integration test), 승인 테스트(Acceptance test) 등 다양한 테스트가 있습니다.

- beta testing (베타 테스팅)  
일반적으로 엔드 유저에 의해 완료되는 테스팅, 프로그램 상용화를 위한 애플리케이션 릴리즈 이전의 최종 테스팅을 의미 합니다.

- unit testing (유닛 테스팅)  
프로그램이 통합된 이후에 결합된 기능들을 검증하기 위한 통합 모듈 테스팅, 여기서 모듈은 일반적으로 코드 모듈, 개별 어플리케이션, 네트워크 상의 클라이언트와 서버 애플리케이션 등이 될 수 있습니다.

- system testing (시스템 테스팅)  
각각의 요구사항에 대해 전체 시스템이 테스트됩니다.

- acceptance testing (인수 테스팅)  
일반적으로 개발된 시스템이 고객이 명세한 요구사항을 충족했는지를 검증하기 위해 사용됩니다.

&nbsp;
### 1.2 Testing - 테스트 기본 원칙
각 테스트의 목적과 상황에 맞게 테스트를 구성하는 것도 중요하지만, 테스트의 원칙을 지키는 것이 우선되어야 합니다.

- 일곱 테스트 원칙(Seven Testing Principles)

> &nbsp;
>- 테스팅은 결함의 존재를 보여주는 것이다.
>
>- 완벽한 테스트는 불가능하다.
>
>- 테스트 구성은 가능한 빠른 시기에 시작한다.
>
>- 결함은 군집되어 있다.
>
>- 비슷한 테스트가 반복되면 새로운 결함을 발견할 수 없다.
>
>- 테스팅은 정황에 의존적이다.
>
>- 사용되지 않는 시스템이나 사용자의 기대에 부응하지 않는 기능의 결함을 찾고 수정하는 것은 의미가 없다.  
> &nbsp;

- F.I.R.S.T 단위 테스트 원칙  
  
> &nbsp;
>Fast 
>- 유닛 테스트는 빨라야 한다.
>
>Isolated 
>- 다른 테스트에 종속적인 테스트는 절대로 작성하지 않는다.
>
>Repeatable 
>- 테스트는 실행할 때마다 같은 결과를 만들어야 한다.
>
>Self-validating 
>- 테스트는 스스로 결과물이 옳은지 그른지 판단할 수 있어야 한다. 특정 상태를 수동으로 미리 만들어야 동작하는 테스트 등은 작성하지 않는다.
>
>Timely 
>- 유닛 테스트는 프로덕션 코드가 테스트를 성공하기 직전에 구성되어야 한다. 테스트 주도 개발(TDD) 방법론에 적합한 원칙이지만 실제로 적용되지 않는 경우도 있다.  
> &nbsp;

&nbsp;
&nbsp;
## 2. TDD(Test-Driven-Development)
![tdd](https://user-images.githubusercontent.com/109357459/179981782-f71e3a2a-76df-4ecd-b19d-43ce90911485.png)
TDD란 매우 짧은 개발 사이클을 반복하는 소프트웨어 개발 프로세스 중 하나입니다.  
개발자는 먼저 요구사항을 검증하는 자동화된 테스트 케이스를 작성하고, 그 테스트 케이스를 통과하기 위한 최소한의 코드를 생성한 뒤 마지막으로 작성한 코드를 표준에 맞도록 리팩토링합니다.

&nbsp;

### 2.1 TDD - 메인 프로세스
TDD의 메인 프로세스는 다음과 같이 3가지 단계로 나눌 수 있습니다.

- **RED** - 테스트 실패  
실패하는 것이 확인 되어야, 테스트가 검증력을 가진다고 신뢰할 수 있습니다. 실패의 이유는 운영 코드가 아직 변경되지 않았기 때문이어야 하며, 테스트 코드의 문제이면 안 됩니다.

>
>- 구체적인 하나의 요구사항을 검증하는 하나의 테스트를 추가한다.
>
>- 추가된 테스트가 실패하는지 확인한다.


- **GREEN** - 테스트 성공  
TDD에서는 테스트 성공을 위한 최소한의 코드 그 이상을 변경하거나 추가하면 안 됩니다. 테스트 되지 않은 코드가 중간에 추가되면, 이후 리팩토링 등의 다른 프로세스에서 어떤 부작용을 가져올지 알 수 없기 때문입니다.


>- 추가된 테스트를 포함하여, 모든 테스트가 성공하게끔 운영 코드를 변경한다.
>
>- 테스트의 성공은 모든 요구사항을 만족했음을 의미한다.
>
>- 테스트 성공을 위한 최소한의 코드 변경만 진행한다.


- **REFACTOR** - 리팩토링


>- 코드베이스를 정리한다.
>
>- 인터페이스 뒤에 숨어 있는 구현 설계를 개선한다.
>
>- 가독성, 적용성, 성능을 고려한다.


&nbsp;

### 2.2 TDD - 기존의 개발 방식과 TDD 개발 방식의 특징

- 기존 개발 방식
![image](https://user-images.githubusercontent.com/109357459/179983077-bf6e405a-7c96-4dd0-90e4-ffd1302bb7c4.png)


>- 테스트가 실패하게 되면 매번 설계단계로 다시 돌아오게 되어 많은 시간이 소요된다.
>
>- 작은 기능 수정에도 모든 부분을 함께 테스트해야하기 때문에 테스트 비용이 증가된다.


- TDD 개발 방식
![image (1)](https://user-images.githubusercontent.com/109357459/179983422-1b862eeb-dc2c-41b7-8a9d-34901dc62224.png)


>- 일반 개발 방식과달리 실패테스트 코드를 먼저 작성하고, 테스트 코드를 성공하기 위한 코드를 작성한다
>
>- 필요하다면 재설계 후에 테스트 코드에 바로 적용할 수 있기 때문에 설계의 개선이 쉽고 빠르다.
>
>- 테스트코드에서 필요한 예외 사항들에대한 테스트를 추가하는 반복적인 단계가 진행되면서 코드의 버그가 줄어든다.








